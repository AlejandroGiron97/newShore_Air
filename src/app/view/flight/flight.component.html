<section class="vh-100 gradient-custom">
  <div class="container py-5 h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-12 col-md-8 col-lg-8 col-xl-8">
              <div class="card bg-lightsalmon text-white border border-danger" style="border-radius: 1rem;">
                  <div class="card-body p-5 text-center">
                      <form [formGroup]="formJourney" (ngSubmit)="getFlights();">
                          <div class="mb-md-5 mt-md-3 pb-5">

                              <h2 class="fw-bold mb-2 text-danger">Journeys Disponibility</h2>

                              <p></p>
                              <div class = "row m-auto justify-content-center">

                              <div class="col-lg-12 col-md-12 p-2 text-center">

                                  <select style="text-transform:uppercase" maxlength="3" formControlName="origin"
                                      type="text" id="typeEmailX" class="form-control form-control-lg" required>

                                      <option *ngFor="let airportOrigin of departures" [value]="airportOrigin">{{airportOrigin}}</option>

                                  </select>


                              </div>



                              <div class="col-lg-12 col-md-12 p-2 text-center">

                                  <select  style="text-transform:uppercase" maxlength="3" formControlName="destination"
                                      type="text" id="typeEmailX" class="form-control form-control-lg"  required>
                                     <option *ngFor="let airportDestination of departures" [value]="airportDestination">{{airportDestination}}</option>

                                  </select>

                                  <div class="msjValidation"
                                      *ngIf="(getForm['destination'].errors && (getForm['destination'].dirty || getForm['destination'].touched))">

                                  </div>
                              </div>
                              <div class="col-lg-12 col-md-12 p-2 text-center">

                                  <select formControlName="money" class="form-control form-control-lg" name="selectAction"
                                      [(ngModel)]="selected.id" (change)="updateMoney($event);">
                                      <option *ngFor="let op of money" [ngValue]="op['id']" required>
                                          {{op.base}}
                                       </option>

                                  </select>

                                  <label class="form-label" for="typeEmailX">Price</label>


                              </div>

                              <button
                                  [disabled]="getForm['origin'].errors || getForm['destination'].errors || getForm['origin'].value==getForm['destination'].value"
                                  class="btn btn-warning text-dark btn-lg col-md-4 mx-auto" type="submit">Search</button>

                          </div>

                          <p></p>


                          <div *ngIf="flights && flights.length>0" class="row justify-content-center">
                              <table class="table text-dark table-bordered">
                                  <thead class="thead-dark">
                                      <tr>

                                          <th scope="col ">Origin</th>
                                          <th scope="col">Destination</th>
                                          <th scope="col">Price</th>

                                      </tr>
                                  </thead>
                                  <tbody>
                                      <tr *ngFor="let flight of flights">
                                          <td>{{flight.origin}}</td>
                                          <td>{{flight.destination}}</td>
                                          <td>{{flight.price}}</td>
                                      </tr>
                                  </tbody>
                              </table>
                          </div>



                      </div>



                      </form>

                  </div>
              </div>
          </div>
      </div>
  </div>
</section>
